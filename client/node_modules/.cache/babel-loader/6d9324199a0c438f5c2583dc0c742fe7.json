{"ast":null,"code":"import\"./App.css\";import React,{useEffect,useState}from\"react\";import Routes from\"./routes\";import Navbar from\"./components/Navbar\";import axios from\"axios\";import{Box}from\"@mui/material\";import{BrowserRouter as Router}from\"react-router-dom\";import Cookies from\"js-cookie\";import FromModal from\"./components/Auth/FormModel\";import{connect,useDispatch,useSelector}from\"react-redux\";import{ConstructionOutlined}from\"@mui/icons-material\";import{actions}from\"./store/auth/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=Cookies.get('token');console.log('tokeng ',token);export var setAuthToken=function setAuthToken(token){if(token)axios.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(token);else delete axios.defaults.headers.common[\"Authorization\"];};var getProfile=actions.getProfile;function App(props){useEffect(function(){setAuthToken(token);},[token]);useEffect(function(){console.log(props.user,token);if(!props.user&&token){props.getProfile();}},[props.user]);return/*#__PURE__*/_jsx(Box,{sx:{display:'flex'},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Routes,{}),/*#__PURE__*/_jsx(FromModal,{})]})});}var ConnectedApp=connect(function(state){return state.auth;},{getProfile:getProfile})(App);export default ConnectedApp;","map":{"version":3,"names":["React","useEffect","useState","Routes","Navbar","axios","Box","BrowserRouter","Router","Cookies","FromModal","connect","useDispatch","useSelector","ConstructionOutlined","actions","token","get","console","log","setAuthToken","defaults","headers","common","getProfile","App","props","user","display","ConnectedApp","state","auth"],"sources":["/Users/tarak/Documents/projects/complex/client/src/App.js"],"sourcesContent":["\nimport \"./App.css\";\n\nimport React, { useEffect,useState } from \"react\";\nimport Routes from \"./routes\";\nimport Navbar from \"./components/Navbar\";\nimport axios from \"axios\";\nimport { Box } from \"@mui/material\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport FromModal from \"./components/Auth/FormModel\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { ConstructionOutlined } from \"@mui/icons-material\";\nimport {actions} from \"./store/auth/actions\";\n\nconst token = Cookies.get('token')\nconsole.log('tokeng ',token)\nexport const setAuthToken =token=>{\n  if(token) axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\n  else delete axios.defaults.headers.common[\"Authorization\"]\n}\nconst getProfile = actions.getProfile\n\nfunction App(props){\n\n\n    useEffect(()=>{\n      setAuthToken(token)\n    },[token])\n\n\n    useEffect(()=>{\n        console.log(props.user,token)\n        if(!props.user && token){\n          props.getProfile()\n        }\n    },[props.user])\n\n\n    return (\n      <Box sx={{ display: 'flex' }}>\n        <Router>\n          <Navbar/>\n          <Routes/>\n          <FromModal/>\n        </Router>\n      </Box> \n    );\n\n}\nconst ConnectedApp = connect((state) => state.auth,{getProfile})(App);\nexport default ConnectedApp;\n"],"mappings":"AACA,MAAO,WAAP,CAEA,MAAOA,MAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,eAApB,CACA,OAASC,aAAa,GAAIC,OAA1B,KAAwC,kBAAxC,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,MAAOC,UAAP,KAAsB,6BAAtB,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,WAA/B,KAAkD,aAAlD,CACA,OAASC,oBAAT,KAAqC,qBAArC,CACA,OAAQC,OAAR,KAAsB,sBAAtB,C,wFAEA,GAAMC,MAAK,CAAGP,OAAO,CAACQ,GAAR,CAAY,OAAZ,CAAd,CACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBH,KAAtB,EACA,MAAO,IAAMI,aAAY,CAAE,QAAdA,aAAc,CAAAJ,KAAK,CAAE,CAChC,GAAGA,KAAH,CAAUX,KAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,mBAA2DP,KAA3D,EAAV,IACK,OAAOX,MAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP,CACN,CAHM,CAIP,GAAMC,WAAU,CAAGT,OAAO,CAACS,UAA3B,CAEA,QAASC,IAAT,CAAaC,KAAb,CAAmB,CAGfzB,SAAS,CAAC,UAAI,CACZmB,YAAY,CAACJ,KAAD,CAAZ,CACD,CAFQ,CAEP,CAACA,KAAD,CAFO,CAAT,CAKAf,SAAS,CAAC,UAAI,CACViB,OAAO,CAACC,GAAR,CAAYO,KAAK,CAACC,IAAlB,CAAuBX,KAAvB,EACA,GAAG,CAACU,KAAK,CAACC,IAAP,EAAeX,KAAlB,CAAwB,CACtBU,KAAK,CAACF,UAAN,GACD,CACJ,CALQ,CAKP,CAACE,KAAK,CAACC,IAAP,CALO,CAAT,CAQA,mBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAT,uBACE,MAAC,MAAD,yBACE,KAAC,MAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,SAAD,IAHF,GADF,EADF,CAUH,CACD,GAAMC,aAAY,CAAGlB,OAAO,CAAC,SAACmB,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAAuB,CAACP,UAAU,CAAVA,UAAD,CAAvB,CAAP,CAA4CC,GAA5C,CAArB,CACA,cAAeI,aAAf"},"metadata":{},"sourceType":"module"}