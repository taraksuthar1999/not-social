{"ast":null,"code":"var _jsxFileName = \"/Users/tarak/Documents/projects/Social-Media-Frontend/src/contexts/PostProvider.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getPost } from \"../services/post\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nexport const usePost = () => {\n  _s();\n\n  return useContext(Context);\n};\n\n_s(usePost, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function PostProvider(_ref) {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const getCommentsById = useMemo(() => {\n    if ((post === null || post === void 0 ? void 0 : post.comments) == null) return [];\n    const group = {};\n    post.comments.forEach(comment => {\n      group[comment.parentId] ||= [];\n      group[comment.parentId].push(comment);\n    });\n    return group;\n  }, [post === null || post === void 0 ? void 0 : post.comments]);\n\n  function getReplies(parentId) {\n    return getCommentsById[parentId];\n  }\n\n  useEffect(id => {\n    setPost(getPost(id));\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      post,\n      getReplies,\n      comments: getCommentsById[null]\n    },\n    children: post && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 12\n  }, this);\n}\n\n_s2(PostProvider, \"QOE8AUHxuqE24rPzjRzKHCbeGAM=\", false, function () {\n  return [useParams];\n});\n\n_c = PostProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostProvider\");","map":{"version":3,"names":["React","useContext","useEffect","useMemo","useState","useParams","getPost","Context","createContext","usePost","PostProvider","children","id","post","setPost","getCommentsById","comments","group","forEach","comment","parentId","push","getReplies"],"sources":["/Users/tarak/Documents/projects/Social-Media-Frontend/src/contexts/PostProvider.js"],"sourcesContent":["import React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getPost } from \"../services/post\";\n\nconst Context = React.createContext()\nexport const usePost = ()=>{\n    return useContext(Context)\n}\nexport function PostProvider({children}){\n    const {id } = useParams()\n    const [post,setPost] = useState(null)\n    const getCommentsById = useMemo(()=>{\n        if(post?.comments==null) return []\n        const group = {} \n        post.comments.forEach(comment => {\n            group[comment.parentId] ||= []\n            group[comment.parentId].push(comment)\n        });\n        return group\n    },[post?.comments])\n    function getReplies(parentId){\n        return getCommentsById[parentId]    \n    }\n    useEffect((id)=>{\n        setPost(getPost(id))\n    },[id])\n    return <Context.Provider value={{post,getReplies,comments:getCommentsById[null]}}>{post&&children}</Context.Provider>\n}"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,OAAvC,EAAgDC,QAAhD,QAAgE,OAAhE;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,OAAT,QAAwB,kBAAxB;;AAEA,MAAMC,OAAO,gBAAGP,KAAK,CAACQ,aAAN,EAAhB;AACA,OAAO,MAAMC,OAAO,GAAG,MAAI;EAAA;;EACvB,OAAOR,UAAU,CAACM,OAAD,CAAjB;AACH,CAFM;;GAAME,O;;AAGb,OAAO,SAASC,YAAT,OAAiC;EAAA;;EAAA,IAAX;IAACC;EAAD,CAAW;EACpC,MAAM;IAACC;EAAD,IAAQP,SAAS,EAAvB;EACA,MAAM,CAACQ,IAAD,EAAMC,OAAN,IAAiBV,QAAQ,CAAC,IAAD,CAA/B;EACA,MAAMW,eAAe,GAAGZ,OAAO,CAAC,MAAI;IAChC,IAAG,CAAAU,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEG,QAAN,KAAgB,IAAnB,EAAyB,OAAO,EAAP;IACzB,MAAMC,KAAK,GAAG,EAAd;IACAJ,IAAI,CAACG,QAAL,CAAcE,OAAd,CAAsBC,OAAO,IAAI;MAC7BF,KAAK,CAACE,OAAO,CAACC,QAAT,CAAL,KAA4B,EAA5B;MACAH,KAAK,CAACE,OAAO,CAACC,QAAT,CAAL,CAAwBC,IAAxB,CAA6BF,OAA7B;IACH,CAHD;IAIA,OAAOF,KAAP;EACH,CAR8B,EAQ7B,CAACJ,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEG,QAAP,CAR6B,CAA/B;;EASA,SAASM,UAAT,CAAoBF,QAApB,EAA6B;IACzB,OAAOL,eAAe,CAACK,QAAD,CAAtB;EACH;;EACDlB,SAAS,CAAEU,EAAD,IAAM;IACZE,OAAO,CAACR,OAAO,CAACM,EAAD,CAAR,CAAP;EACH,CAFQ,EAEP,CAACA,EAAD,CAFO,CAAT;EAGA,oBAAO,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAE;MAACC,IAAD;MAAMS,UAAN;MAAiBN,QAAQ,EAACD,eAAe,CAAC,IAAD;IAAzC,CAAzB;IAAA,UAA4EF,IAAI,IAAEF;EAAlF;IAAA;IAAA;IAAA;EAAA,QAAP;AACH;;IAnBeD,Y;UACEL,S;;;KADFK,Y"},"metadata":{},"sourceType":"module"}