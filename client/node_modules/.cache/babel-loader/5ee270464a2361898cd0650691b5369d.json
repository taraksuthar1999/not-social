{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport Cookies from \"js-cookie\";\nconst initialState = {\n  error: {\n    message: \"\",\n    type: \"\"\n  },\n  loading: false,\n  user: null,\n  data: null,\n  token: null\n};\nconst TOKEN = \"token\";\nconst authReducer = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = true;\n      state.data = payload;\n    },\n    loginSuccess: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.loading = false;\n      state.token = payload.data.data.token;\n      state.data = payload.data.data;\n      state.error.message = '';\n      Cookies.set(TOKEN, payload.data.data.token, {\n        path: \"/\"\n      });\n      console.log(Cookies.get(TOKEN), 'token login');\n    },\n    loginFailed: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.loading = false;\n      state.error.message = payload;\n      state.token = \"\";\n    },\n    register: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.loading = true;\n      state.data = payload;\n    },\n    registerSuccess: (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.loading = false;\n      state.error.message = '';\n    },\n    registerFailed: (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      state.loading = false;\n      state.error.message = payload;\n    },\n    resetError: state => {\n      state.error.message = \"\";\n      state.loading = false;\n    },\n    getProfile: (state, _ref7) => {\n      let {\n        payload\n      } = _ref7;\n      state.loading = true;\n    },\n    logout: (state, _ref8) => {\n      let {\n        payload\n      } = _ref8;\n      state.loading = true;\n      state.data = payload;\n    },\n    logoutSuccess: (state, _ref9) => {\n      let {\n        payload\n      } = _ref9;\n      state.loading = false;\n      state.token = null;\n      state.data = null;\n      state.error.message = '';\n      console.log(Cookies.get(TOKEN)); // Cookies.remove(TOKEN);\n    }\n  }\n});\nexport const {\n  name,\n  actions\n} = authReducer;\nexport const selectCurrentToken = state => {\n  console.log(\"state\", state);\n  return state.auth.token;\n};\nexport default authReducer.reducer;","map":{"version":3,"names":["createSlice","Cookies","initialState","error","message","type","loading","user","data","token","TOKEN","authReducer","name","reducers","login","state","payload","loginSuccess","set","path","console","log","get","loginFailed","register","registerSuccess","registerFailed","resetError","getProfile","logout","logoutSuccess","actions","selectCurrentToken","auth","reducer"],"sources":["/Users/tarak/Documents/projects/Social-Media-Frontend/src/store/auth/actions.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport Cookies from \"js-cookie\";\nconst initialState = {\n  error: {\n    message: \"\",\n    type: \"\",\n  },\n  loading: false,\n  user: null,\n  data: null,\n  token: null,\n};\nconst TOKEN = \"token\";\nconst authReducer = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: (state, { payload }) => {\n      state.loading = true;\n      state.data = payload;\n    },\n    loginSuccess: (state, { payload }) => {\n      state.loading = false;\n      state.token = payload.data.data.token;\n      state.data = payload.data.data\n      state.error.message = ''\n      Cookies.set(TOKEN, payload.data.data.token, { path: \"/\" });\n      console.log(Cookies.get(TOKEN),'token login')\n    },\n    loginFailed: (state, { payload }) => {\n      state.loading = false;\n      state.error.message = payload;\n      state.token = \"\"\n    },\n    register: (state, { payload }) => {\n      state.loading = true;\n      state.data = payload;\n    },\n    registerSuccess: (state, { payload }) => {\n      state.loading = false;\n      state.error.message = ''\n    },\n    registerFailed: (state, { payload }) => {\n      state.loading = false;\n      state.error.message = payload;\n    },\n    resetError: (state) => {\n      state.error.message = \"\";\n      state.loading = false\n    },\n    getProfile: (state, { payload }) => {\n      state.loading = true;\n    },\n    logout:(state,{payload})=>{\n        state.loading = true;\n        state.data = payload;\n    },\n    logoutSuccess: (state, { payload }) => {\n      state.loading = false;\n      state.token = null;\n      state.data = null;\n      state.error.message = ''\n      console.log(Cookies.get(TOKEN))\n      // Cookies.remove(TOKEN);\n    },\n  },\n});\n\nexport const { name, actions } = authReducer;\nexport const selectCurrentToken = (state) => {\n  console.log(\"state\", state);\n  return state.auth.token;\n};\nexport default authReducer.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}