{"ast":null,"code":"var _jsxFileName = \"/Users/tarak/Documents/projects/Social-Media-Frontend/src/components/Auth/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { useFormik, FormikProvider, Form } from \"formik\";\nimport { Button, Grid, Link, TextField, Typography } from \"@mui/material\";\nimport { Alert } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { actions } from \"../../store/auth/actions\";\nimport Loading from \"../../utils/Loading\";\nimport { ModalContext } from \"../../context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  email: \"\",\n  password: \"\"\n};\nconst validationSchema = Yup.object({\n  email: Yup.string().email().required(\"Email is required\").label(\"Email\"),\n  password: Yup.string().required(\"Password is required\").min(8, \"Too short\").label(\"Password\")\n});\n\nconst Login = props => {\n  _s();\n\n  var _props$auth$error, _props$auth$error2;\n\n  const [initFormData] = useState(initialState);\n  const {\n    setIsShown\n  } = React.useContext(ModalContext);\n  const navigate = useNavigate();\n\n  const onLoginSuccess = () => {\n    setIsShown(false);\n    navigate('/welcome');\n  };\n\n  const onSubmit = async formData => {\n    props.login({ ...formData,\n      onLoginSuccess\n    });\n  };\n\n  const formik = useFormik({\n    initialValues: initFormData,\n    validationSchema: validationSchema,\n    enableReinitialize: true,\n    onSubmit: values => onSubmit(values)\n  });\n  const {\n    handleChange,\n    handleSubmit,\n    values,\n    errors,\n    touched,\n    handleBlur\n  } = formik;\n  return props.auth.loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Box, {\n    width: \"65%\",\n    height: \"250px\",\n    ml: \"auto\",\n    mr: \"auto\",\n    mt: \"auto\",\n    mb: \"auto\",\n    children: /*#__PURE__*/_jsxDEV(FormikProvider, {\n      value: formik,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          height: \"100%\",\n          width: \"100%\",\n          ml: \"auto\",\n          mr: \"auto\",\n          justifyContent: \"center\",\n          display: \"block\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            mb: 3,\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              variant: \"standard\",\n              name: \"email\",\n              placeholder: \"Email\",\n              onChange: handleChange,\n              onBlur: handleBlur,\n              value: values.email,\n              error: errors.email && touched.email,\n              helperText: errors.email && touched.email ? errors.email : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            mb: 3,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              variant: \"standard\",\n              name: \"password\",\n              placeholder: \"Password\",\n              type: \"password\",\n              onChange: handleChange,\n              onBlur: handleBlur,\n              value: values.password,\n              error: errors.password && touched.password,\n              helperText: errors.password && touched.password ? errors.password : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            mb: 3,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              sx: {\n                borderRadius: 0,\n                backgroundColor: \"black\",\n                fontWeight: \"bold\",\n                \"&:hover\": {\n                  backgroundColor: \"black\"\n                }\n              },\n              type: \"submit\",\n              fullWidth: true,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), (_props$auth$error = props.auth.error) !== null && _props$auth$error !== void 0 && _props$auth$error.message ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"msg alert\",\n              children: (_props$auth$error2 = props.auth.error) === null || _props$auth$error2 === void 0 ? void 0 : _props$auth$error2.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 18\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"New to App?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n              onClick: props.register,\n              underline: \"none\",\n              sx: {\n                fontWeight: \"bold\",\n                color: \"turquoise\"\n              },\n              children: \"SIGN UP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"hDSrtgEmBcJytHhl41CnKlcqaWk=\", false, function () {\n  return [useNavigate, useFormik];\n});\n\n_c = Login;\nconst login = actions.login;\nconst resetError = actions.resetError;\nconst ConnectedLogin = connect(state => state, {\n  login,\n  resetError\n})(Login);\nexport default ConnectedLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useEffect","useState","connect","useDispatch","useSelector","useNavigate","Yup","useFormik","FormikProvider","Form","Button","Grid","Link","TextField","Typography","Alert","Box","actions","Loading","ModalContext","initialState","email","password","validationSchema","object","string","required","label","min","Login","props","initFormData","setIsShown","navigate","onLoginSuccess","onSubmit","formData","login","formik","initialValues","enableReinitialize","values","handleChange","handleSubmit","errors","touched","handleBlur","auth","loading","borderRadius","backgroundColor","fontWeight","error","message","register","color","resetError","ConnectedLogin","state"],"sources":["/Users/tarak/Documents/projects/Social-Media-Frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { useFormik, FormikProvider, Form } from \"formik\";\nimport { Button, Grid, Link, TextField, Typography } from \"@mui/material\";\nimport { Alert } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { actions } from \"../../store/auth/actions\";\nimport Loading from \"../../utils/Loading\";\nimport { ModalContext } from \"../../context\";\n\nconst initialState = {\n  email: \"\",\n  password: \"\",\n};\n\nconst validationSchema = Yup.object({\n  email: Yup.string().email().required(\"Email is required\").label(\"Email\"),\n  password: Yup.string()\n    .required(\"Password is required\")\n    .min(8, \"Too short\")\n    .label(\"Password\"),\n});\n\nconst Login = (props) => {\n  const [initFormData] = useState(initialState);\n  const {setIsShown} = React.useContext(ModalContext)\n  const navigate = useNavigate();\n\n  const onLoginSuccess =()=>{\n    setIsShown(false)\n    navigate('/welcome')\n  } \n  const onSubmit = async (formData) => {\n    props.login({...formData,onLoginSuccess});\n  };\n  const formik = useFormik({\n    initialValues: initFormData,\n    validationSchema: validationSchema,\n    enableReinitialize: true,\n    onSubmit: (values) => onSubmit(values),\n  });\n  \n  const { handleChange, handleSubmit, values, errors, touched, handleBlur } =\n  formik;\n  \n\n  return props.auth.loading ? (\n    <Loading />\n  ) : (\n    <Box width=\"65%\" height=\"250px\" ml=\"auto\" mr=\"auto\" mt=\"auto\" mb=\"auto\">\n      <FormikProvider value={formik}>\n        <Form onSubmit={handleSubmit}>\n          <Grid\n            container\n            height=\"100%\"\n            width=\"100%\"\n            ml=\"auto\"\n            mr=\"auto\"\n            justifyContent=\"center\"\n            display=\"block\"\n          >\n            <Grid mb={3} item>\n              <TextField\n                fullWidth\n                variant=\"standard\"\n                name=\"email\"\n                placeholder=\"Email\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.email}\n                error={errors.email && touched.email}\n                helperText={errors.email && touched.email ? errors.email : null}\n              />\n            </Grid>\n            <Grid item mb={3}>\n              <TextField\n                fullWidth\n                variant=\"standard\"\n                name=\"password\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.password}\n                error={errors.password && touched.password}\n                helperText={\n                  errors.password && touched.password ? errors.password : null\n                }\n              />\n            </Grid>\n            <Grid item mb={3}>\n              <Button\n                variant=\"contained\"\n                sx={{\n                  borderRadius: 0,\n                  backgroundColor: \"black\",\n                  fontWeight: \"bold\",\n                  \"&:hover\": {\n                    backgroundColor: \"black\",\n                  },\n                }}\n                type=\"submit\"\n                fullWidth\n              >\n                Login\n              </Button>\n              {props.auth.error?.message ? (\n                 <span className=\"msg alert\">{props.auth.error?.message}</span>\n        ) : null}\n             \n            </Grid>\n            <Grid item>\n              <span>New to App?</span>&nbsp;\n              <Link\n                onClick={props.register}\n                underline=\"none\"\n                sx={{ fontWeight: \"bold\", color: \"turquoise\" }}\n              >\n                SIGN UP\n              </Link>\n            </Grid>\n          </Grid>\n        </Form>\n      </FormikProvider>\n    </Box>\n  );\n};\nconst login = actions.login;\nconst resetError = actions.resetError;\nconst ConnectedLogin = connect((state) => state, { login, resetError })(Login);\nexport default ConnectedLogin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}