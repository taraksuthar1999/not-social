{"ast":null,"code":"var _jsxFileName = \"/Users/tarak/Documents/projects/Social-Media-Frontend/src/components/Auth/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { useFormik, FormikProvider, Form } from \"formik\";\nimport { Button, Grid, Link, TextField, Typography } from \"@mui/material\";\nimport { Alert } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { actions } from \"../../store/auth/actions\";\nimport Loading from \"../../utils/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  email: \"\",\n  password: \"\"\n};\nconst validationSchema = Yup.object({\n  email: Yup.string().email().required(\"Email is required\").label(\"Email\"),\n  password: Yup.string().required(\"Password is required\").min(8, \"Too short\").label(\"Password\")\n});\n\nconst Login = props => {\n  _s();\n\n  var _props$auth$error, _props$auth$error2;\n\n  const [initFormData] = useState(initialState);\n  const navigate = useNavigate();\n\n  const onLoginSuccess = () => navigate('/welcome');\n\n  const onSubmit = async formData => {\n    props.login({ ...formData,\n      onLoginSuccess\n    });\n  };\n\n  const formik = useFormik({\n    initialValues: initFormData,\n    validationSchema: validationSchema,\n    enableReinitialize: true,\n    onSubmit: values => onSubmit(values)\n  });\n  const {\n    handleChange,\n    handleSubmit,\n    values,\n    errors,\n    touched,\n    handleBlur\n  } = formik;\n  useEffect(() => {\n    props.resetError();\n  }, [values]);\n  return props.auth.loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Box, {\n    width: \"60%\",\n    height: \"350px\",\n    ml: \"auto\",\n    mr: \"auto\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: \"50px\",\n        mb: 2\n      },\n      children: (_props$auth$error = props.auth.error) !== null && _props$auth$error !== void 0 && _props$auth$error.message ? /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: (_props$auth$error2 = props.auth.error) === null || _props$auth$error2 === void 0 ? void 0 : _props$auth$error2.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormikProvider, {\n      value: formik,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          height: \"100%\",\n          width: \"100%\",\n          ml: \"auto\",\n          mr: \"auto\",\n          justifyContent: \"center\",\n          display: \"block\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            mb: 5,\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              variant: \"standard\",\n              name: \"email\",\n              placeholder: \"Email\",\n              onChange: handleChange,\n              onBlur: handleBlur,\n              value: values.email,\n              error: errors.email && touched.email,\n              helperText: errors.email && touched.email ? errors.email : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            mb: 5,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              variant: \"standard\",\n              name: \"password\",\n              placeholder: \"Password\",\n              type: \"password\",\n              onChange: handleChange,\n              onBlur: handleBlur,\n              value: values.password,\n              error: errors.password && touched.password,\n              helperText: errors.password && touched.password ? errors.password : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            mb: 5,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              sx: {\n                borderRadius: 0,\n                backgroundColor: \"black\",\n                fontWeight: \"bold\",\n                \"&:hover\": {\n                  backgroundColor: \"black\"\n                }\n              },\n              type: \"submit\",\n              fullWidth: true,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"New to App?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n              onClick: props.register,\n              underline: \"none\",\n              sx: {\n                fontWeight: \"bold\",\n                color: \"turquoise\"\n              },\n              children: \"SIGN UP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"oUHVTXAuTq9w4nnEMErxz+KoAVg=\", false, function () {\n  return [useNavigate, useFormik];\n});\n\n_c = Login;\nconst login = actions.login;\nconst resetError = actions.resetError;\nconst ConnectedLogin = connect(state => state, {\n  login,\n  resetError\n})(Login);\nexport default ConnectedLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","connect","useDispatch","useNavigate","Yup","useFormik","FormikProvider","Form","Button","Grid","Link","TextField","Typography","Alert","Box","actions","Loading","initialState","email","password","validationSchema","object","string","required","label","min","Login","props","initFormData","navigate","onLoginSuccess","onSubmit","formData","login","formik","initialValues","enableReinitialize","values","handleChange","handleSubmit","errors","touched","handleBlur","resetError","auth","loading","minHeight","mb","error","message","borderRadius","backgroundColor","fontWeight","register","color","ConnectedLogin","state"],"sources":["/Users/tarak/Documents/projects/Social-Media-Frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport { useFormik, FormikProvider, Form } from \"formik\";\nimport { Button, Grid, Link, TextField, Typography } from \"@mui/material\";\nimport { Alert } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { actions } from \"../../store/auth/actions\";\nimport Loading from \"../../utils/Loading\";\n\nconst initialState = {\n  email: \"\",\n  password: \"\",\n};\n\nconst validationSchema = Yup.object({\n  email: Yup.string().email().required(\"Email is required\").label(\"Email\"),\n  password: Yup.string()\n    .required(\"Password is required\")\n    .min(8, \"Too short\")\n    .label(\"Password\"),\n});\n\nconst Login = (props) => {\n  const [initFormData] = useState(initialState);\n  const navigate = useNavigate();\n\n  const onLoginSuccess =()=>navigate('/welcome') \n  const onSubmit = async (formData) => {\n    props.login({...formData,onLoginSuccess});\n  };\n  const formik = useFormik({\n    initialValues: initFormData,\n    validationSchema: validationSchema,\n    enableReinitialize: true,\n    onSubmit: (values) => onSubmit(values),\n  });\n  \n  const { handleChange, handleSubmit, values, errors, touched, handleBlur } =\n  formik;\n  \n  useEffect(()=>{\n    props.resetError()\n  },[values])\n  return props.auth.loading ? (\n    <Loading />\n  ) : (\n    <Box width=\"60%\" height=\"350px\" ml=\"auto\" mr=\"auto\">\n      <Box sx={{ minHeight: \"50px\", mb: 2 }}>\n        {props.auth.error?.message ? (\n          <Alert severity=\"error\">{props.auth.error?.message}</Alert>\n        ) : null}\n      </Box>\n      <FormikProvider value={formik}>\n        <Form onSubmit={handleSubmit}>\n          <Grid\n            container\n            height=\"100%\"\n            width=\"100%\"\n            ml=\"auto\"\n            mr=\"auto\"\n            justifyContent=\"center\"\n            display=\"block\"\n          >\n            <Grid mb={5} item>\n              <TextField\n                fullWidth\n                variant=\"standard\"\n                name=\"email\"\n                placeholder=\"Email\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.email}\n                error={errors.email && touched.email}\n                helperText={errors.email && touched.email ? errors.email : null}\n              />\n            </Grid>\n            <Grid item mb={5}>\n              <TextField\n                fullWidth\n                variant=\"standard\"\n                name=\"password\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.password}\n                error={errors.password && touched.password}\n                helperText={\n                  errors.password && touched.password ? errors.password : null\n                }\n              />\n            </Grid>\n            <Grid item mb={5}>\n              <Button\n                variant=\"contained\"\n                sx={{\n                  borderRadius: 0,\n                  backgroundColor: \"black\",\n                  fontWeight: \"bold\",\n                  \"&:hover\": {\n                    backgroundColor: \"black\",\n                  },\n                }}\n                type=\"submit\"\n                fullWidth\n              >\n                Login\n              </Button>\n            </Grid>\n            <Grid item>\n              <span>New to App?</span>&nbsp;\n              <Link\n                onClick={props.register}\n                underline=\"none\"\n                sx={{ fontWeight: \"bold\", color: \"turquoise\" }}\n              >\n                SIGN UP\n              </Link>\n            </Grid>\n          </Grid>\n        </Form>\n      </FormikProvider>\n    </Box>\n  );\n};\nconst login = actions.login;\nconst resetError = actions.resetError;\nconst ConnectedLogin = connect((state) => state, { login, resetError })(Login);\nexport default ConnectedLogin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}